<!-- TODO: make this prettier -->
<!-- TODO: figure out styling for mobile/desktop -->
<!-- TODO: build closer view to see more about the list, view description, actions, comments, etc.  -->

<section class="TodoList" data-ng-init="listCtrl.initialize()">
  
  <!-- TODO: make a click event for this on mobile to take you to the list view -->
  <div class="TodoList-headerWrapper">
    <h2 
    class="TodoList-name"
    aria-controls="{{ listCtrl.list.name }}-editListName"
    data-ng-click="listCtrl.toggleNameEditable()"
    data-ng-hide="listCtrl.nameEditable"
    data-ng-bind="listCtrl.list.name"
    ></h2>
    
    
    <!-- LIST NAME EDIT FORM, SHOULD OPEN ON CLICK OF NAME ON LIST ONLY VIEW -->
    <form 
    id="{{ listCtrl.list.name }}-editListName"
    class="TodoList-editListName form-inline"
    name="editListName"
    data-ng-if="listCtrl.nameEditable"
    aria-disabled="{{ !listCtrl.nameEditable }}"
    aria-hidden="{{ !listCtrl.nameEditable }}"
    action="javascript:void(0);"
    data-ng-keydown="editListName.$valid && listCtrl.handleNameEditFormSubmit($event)"
    novalidate
    >
      <div class="form-group">
        <div class="input-group">
          <label for="{{ listCtrl.list.name }}-editNameInput" class="sr-only"></label>
          <input 
          id="{{ listCtrl.list.name }}-editNameInput"
          required
          class="TodoList-editName TodoList-input form-control h2"
          type="text" 
          name="name" 
          placeholder="{{ listCtrl.list.name }}"
          data-ng-model="listCtrl.editedName"
          >
          <span class="input-group-btn">
            <button 
            aria-label="Save"
            class="TodoList-rename btn btn-default"
            data-ng-click="editListName.$valid && listCtrl.handleNameEditFormSubmit($event)"
            type="submit" 
            name="button"
            >Save</button>
          </span>
        </div>
      </div>
    </form>
    
    
    <!-- LIST DETAIL VIEW BUTTON -->
    <button 
    type="menu" 
    name="TodoList-showListDetail"
    class="TodoList-showListDetail TodoList-button btn btn-default hidden-md hidden-lg is-hidden-while-current-list-exists"
    data-ng-click="listCtrl.showListAndItsItemsBelowMdScreens()"
    data-ng-hide="listCtrl.nameEditable"
    aria-label="View list"
    >
      <span aria-hidden="true" class="glyphicon glyphicon-menu-right"></span>
    </button>
    
    <button 
    type="menu" 
    name="TodoList-addItem"
    class="TodoList-addItem TodoList-button btn btn-default is-hidden-below-md"
    data-ng-class="{ 'btn-primary': !listCtrl.addItemVisible }"
    data-ng-click="!listCtrl.addItemVisible && listCtrl.showAddItemForm()"
    data-ng-hide="listCtrl.nameEditable"
    aria-controls="{{ listCtrl.list.name }}-listActions"
    aria-disabled="{{ listCtrl.addItemVisible }}"
    aria-label="Add an item"
    >
      <span aria-hidden="true" class="glyphicon glyphicon-plus"></span>
    </button>
      
    <button 
    type="menu" 
    name="TodoList-showListActions"
    class="TodoList-showListActions TodoList-button btn btn-default is-hidden-below-md"
    data-ng-click="listCtrl.showListActions()"
    data-ng-hide="listCtrl.nameEditable"
    aria-controls="TodoList-listActions"
    aria-label="Show list actions"
    >
      <span aria-hidden="true" class="glyphicon glyphicon-wrench"></span>
    </button>
    

    
  </div>
  
  
  
  
  
  
  
  
  
  <!-- list items -->
  <ul  
  class="TodoList-listOfItems list-group is-hidden-below-md"
  >
    <li 
    class="TodoList-addItemFormWrapper TodoList-itemWrapper list-group-item"
    data-ng-if="listCtrl.addItemVisible"
    >
      <item-form list="list" toggle-visibility="listCtrl.showAddItemForm()"></item-form>
    </li>
    <li 
    class="TodoList-itemWrapper  list-group-item"
    data-ng-repeat="item in listCtrl.list.items"
    data-ng-if="listCtrl.list.items.length"
    >
      <todo-item item="item"></todo-item>
    </li>
  </ul>
  
  
  <div 
  class="TodoList-listActionsBackgroundScreen bg-screen"
  data-ng-show="!listCtrl.listActionsHidden"
  ></div>
  
  
  
  
  <!-- LIST ACTIONS VIEW -->
  <!-- <div 
  class="TodoList-listActionsWrapper"
  data-ng-class="{ hidden: listCtrl.listActionsHidden }"
  > -->
    <!-- <form 
    id="{{ listCtrl.list.name }}-listActions"
    class="TodoList-listActions"
    name="listActions"
    aria-hidden="{{ listCtrl.listActionsHidden }}"
    aria-disabled="{{ listCtrl.listActionsHidden }}"
    > -->
      <!-- TODO: edit name -->
      <!-- TODO: edit description -->
      <!-- TODO: creation date -->
      <!-- TODO: delete list -->
      <!-- TODO: other actions? -->
      <!-- TODO: close button -->
    <!-- </form> -->
  <!-- </div> -->
  
  
</section>
